# 7/24
## 取り組んだこと
- Youtube Farstep
  - Rails 星レビュー機能作成 1
  - Rails 星レビュー機能作成 2
  - Rails 星レビュー機能作成 3
- Github Actions 公式ドキュメント
- ポートフォリオ 英語日記
  - プッシュ時のCIのエラーを解決

## 学んだこと
### Github Actions
- Github Actionsではymlファイルを`.github/workflows/`に設置する
- Github Actionsの基本の書き方
  - `name:` ワークフローの名前を指定
  - `on:` ワークフローが実行されるタイミング（イベント）を指定
  - `jobs:` ワークフローの中に含まれる1つ1つの一連の処理を指定、例えばテストとか静的解析とかのひとかたまりの処理
  - `runs-on:` ジョブのを実行する仮想環境（ランナー）を指定
  - `steps:` 具体的な処理を書く
  - `env` 環境変数を定義
  - `secrets` 秘匿情報を格納する環境変数を定義
  - `uses:` アクションを実行する
  - `run:` 任意のコマンドを実行する
  - `services:` Dockerのサービスコンテナを使う
- jobsは順次または並列で実行される
- 各ジョブは専用の仮想マシンランナー内、またはコンテナ内で実行される
- ワークフローはイベント、手動、定義されたスケジュールのいずれかで実行できる
- onでよく指定するイベント
  - push リモートリポジトリへpushしたとき
  - pull_request プルリクエストを作成したとき
  - deployment デプロイしたとき
  - release リリースしたとき
  - issues issue関連の処理発生時
  - schedules cronによる定期実行
- stepsの中にrunコマンドが1つ以上構成されている
- あるステップから別のステップでデータを共有できる
- ジョブと他のジョブで依存関係を構成できる
- アクションはワークフロー内の繰り返されているコードの量を減らすことができるもの（主にGitリポジトリのプル、ビルドの設定、クラウドプロバイダーの認証の設定など）
- アクションはGithub公式のものか、コミュニティで作られたものを使うか、自作のものか、Docker Hubのものを使うことができる
- アクションでは入力を受け入れて、出力を生成することもできる
- ランナーはワークフローがトリガーされると実行されるサーバーで、1度に1つのジョブを実行できる
- リポジトリのチェックアウトとは、GitHubリポジトリのソースコードをアクションの実行環境（ランナー）にコピーするプロセス

### Rails 星レビュー機能作成
- 誰が何にレビューしたかを中間テーブルで管理する
- ユーザーは星をクリックするだけでレビューの点数を入力できないので、`hidden_field`を使う

## わからなかったこと
- Rails7でnode.jsが必要な時とそうでないときの違い
- CIでのプリコンパイル
- CIでのNode.js、yarnの設定

## 次やること
- udemy クリーンコード
  - 6
  - 7
  - 8
  - 9
- ポートフォリオ 英語日記
  - ログイン
  - ログアウト
  - プロフィール
  - パスワードリセット

## 感想
プッシュ時のエラーは`bundle exec rails javascript:install:esbuild`を実行してなかったから、`yarn build`が実行できなかったからだった。
エラー解決のために闇雲にプッシュしまくったけど、こういうローカルではうまくいくのにCIでエラーが起きる時はどう解決するのが一般的なんやろ。

Github Actionsとりあえず基本的な書き方を学べた。あとはもう使ってわからない部分あったら調べる程度でいいや。