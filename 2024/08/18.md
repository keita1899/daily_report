# 8/18

## 取り組んだこと

- udemy React 完全入門ガイド
  - 7
  - 8
  - 9
  - 10

## 学んだこと

### udemy React 完全入門ガイド

- 7 章 スタイリング
  - React では以下の 4 つの CSS の適用方法がある
    - CSS ファイルの読み込み
    - インラインスタイル
    - CSS Module
    - CSS in JS
  - インラインスタイルは`style`属性を使わなければならないのでコードの再利用性が低く、また疑似セレクタとメディアクエリが使えず、パフォーマンス的にも良くない
  - 画面全体に適用する CSS は外部 CSS で読み込む
  - CSS Modules は class を JavaScript のモジュールのようにインポートして使う方法
  - CSS Modules は近い将来廃止される可能性があるので CSS in JS を使うべき
  - CSS Modules を使うと自動で class が一意になる
  - CSS in JS は`styled-components`や`emotion`などのライブラリを使う
  - `styled-components`はスタイルを当てたコンポーネントを作って使う方法
  - `styled-components`は`styled()`を使ってコンポーネントのスタイルを継承できる
  - `styled-components`も自動で class が一意になる
  - `styled-components`では props を使って動的にスタイルを変更できる
  - ChakraUI は`styled-components`を元にした CSS フレームワーク
  - CSS フレームワークはコンポーネントをそのまま使うタイプと、class を当てていくタイプがある
- 8 章 DOM 操作
  - `createPortal`はポータルの子要素を直接の親要素ではなく別の DOM 要素にマウントすることができる
  - バブリングはイベントが子要素から親要素に伝播すること
  - React では直接 DOM を操作しないが、`useRef`を使うと DOM を直接操作できる
  - `useRef`の使い方
    1. `useRef`で Ref オブジェクトを作る
    2. 取得したい DOM の`ref`に Ref オブジェクトを指定する
    3. React は DOM への参照を`current`に格納する
    4. イベントハンドラなどで DOM にアクセスする
  - `useRef`は DOM のメソッドにアクセスする場合に使われる
  - `useRef`の`current`プロパティに値が設定される
  - ref は再レンダリングされても情報が保持される
  - ref の値を変更しても再レンダリングされない
  - ref を props として渡す際は、`ref`とは別の名前で受け取るか、`forwardRef`を使う
  - ref を受け渡すのはコンポーネントの結びつきが強くなるのでやめたほうがいい
  - `useImperativeHandle`を使うことで ref の操作を限定できる
  - `forwardRef`は`useImperativeHandle`は子から親にデータが流れるのであまり使わずに、state で解決したほうがいい
  - React のデフォルトではコンポーネントが他のコンポーネントの DOM にアクセスすることはできない
- 10 章 関数型プログラミング

  - React は React Hooks 導入により関数型プログラミングにシフト
  - 関数型プログラミングとは、手続き型の制御を関数に分離して隠蔽し、コードを整理するプログラミング手法
  - 手続き型プログラミングは、手順通り命令を記述する手法
  - 実際は関数型と手続き型は混在する
  - 関数型では状態と処理を切り離すこと、特定の入力には特定の出力を返す純粋関数、一度設定した値を書き換えないことが重要
  - 関数型では関数の引数にデータを渡して結果を返して処理を行う
  - 純粋関数は決まった引数からは決まった戻り値を返す関数で、関数外のデータを参照・変更せず、関数外に影響を及ぼさない
  - 引数で渡された値は変更してはいけない
  - イミュータブルな値の変更は、値を書き換えるのではなく、新しい値をメモリ空間に作成し、参照を切り替える
  - Immutability は配列やオブジェクトをイミュータブルな値のように元の値を変更せずに扱うこと
  - 関数コンポーネントは props を受け取り、JSX を返す純粋関数にする（実際は state にも依存する）
  - props は変更してはいけないので、更新関数も props として渡すようにする
  - React ではコンポーネント外のものは基本的に引数だけを見ればいい

- `createPortal`を使うと、コンポーネントを現在の DOM ツリーから切り離して別の DOM ツリーにマウントすることで親コンポーネントのスタイルやレイアウトから影響を受けなくすることができる

## わからなかったこと

- デバッガーの使い方
- バブリング

## 次やること

- udemy React 完全入門ガイド
  - 14
  - 16
  - 20
  - 21

## 感想

とりあえず React の CSS は styled-components か CSS フレームワークを使う

useRef はよくわからん。直接 DOM を操作するからあんまり使わんほうがいい。

動画学習の方がしんどく感じる。
