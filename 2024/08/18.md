# 8/18

## 取り組んだこと
- udemy React完全入門ガイド
  - 7
  - 8
  - 9
  - 10

## 学んだこと
### udemy React完全入門ガイド
- 7章 スタイリング
  - Reactでは以下の4つのCSSの適用方法がある
    - CSSファイルの読み込み
    - インラインスタイル
    - CSS Module
    - CSS in JS
  - インラインスタイルは`style`属性を使わなければならないのでコードの再利用性が低く、また疑似セレクタとメディアクエリが使えず、パフォーマンス的にも良くない
  - 画面全体に適用するCSSは外部CSSで読み込む
  - CSS ModulesはclassをJavaScriptのモジュールのようにインポートして使う方法
  - CSS Modulesは近い将来廃止される可能性があるのでCSS in JSを使うべき
  - CSS Modulesを使うと自動でclassが一意になる
  - CSS in JSは`styled-components`や`emotion`などのライブラリを使う
  - `styled-components`はスタイルを当てたコンポーネントを作って使う方法
  - `styled-components`は`styled()`を使ってコンポーネントのスタイルを継承できる
  - `styled-components`も自動でclassが一意になる
  - `styled-components`ではpropsを使って動的にスタイルを変更できる
  - ChakraUIは`styled-components`を元にしたCSSフレームワーク
  - CSSフレームワークはコンポーネントをそのまま使うタイプと、classを当てていくタイプがある
- 8章 DOM操作
  - `createPortal`はポータルの子要素を直接の親要素ではなく別のDOM要素にマウントすることができる
  - バブリングはイベントが子要素から親要素に伝播すること
  - Reactでは直接DOMを操作しないが、`useRef`を使うとDOMを直接操作できる
  - `useRef`の使い方
    1. `useRef`でRefオブジェクトを作る
    2. 取得したいDOMの`ref`にRefオブジェクトを指定する
    3. ReactはDOMへの参照を`current`に格納する
    4. イベントハンドラなどでDOMにアクセスする
  - `useRef`はDOMのメソッドにアクセスする場合に使われる
  - `useRef`の`current`プロパティに値が設定される
  - refは再レンダリングされても情報が保持される
  - refの値を変更しても再レンダリングされない
  - refをpropsとして渡す際は、`ref`とは別の名前で受け取るか、`forwardRef`を使う
  - refを受け渡すのはコンポーネントの結びつきが強くなるのでやめたほうがいい
  - `useImperativeHandle`を使うことでrefの操作を限定できる
  - `forwardRef`は`useImperativeHandle`は子から親にデータが流れるのであまり使わずに、stateで解決したほうがいい
  - Reactのデフォルトではコンポーネントが他のコンポーネントのDOMにアクセスすることはできない
- 10章 関数型プログラミング
  - ReactはReact Hooks導入により関数型プログラミングにシフト
  - 関数型プログラミングとは、手続き型の制御を関数に分離して隠蔽し、コードを整理するプログラミング手法
  - 手続き型プログラミングは、手順通り命令を記述する手法
  - 実際は関数型と手続き型は混在する
  - 関数型では状態と処理を切り離すこと、特定の入力には特定の出力を返す純粋関数、一度設定した値を書き換えないことが重要
  - 関数型では関数の引数にデータを渡して結果を返して処理を行う
  - 純粋関数は決まった引数からは決まった戻り値を返す関数で、関数外のデータを参照・変更せず、関数外に影響を及ぼさない
  - 引数で渡された値は変更してはいけない
  - イミュータブルな値の変更は、値を書き換えるのではなく、新しい値をメモリ空間に作成し、参照を切り替える
  - Immutabilityは配列やオブジェクトをイミュータブルな値のように元の値を変更せずに扱うこと
  - 関数コンポーネントはpropsを受け取り、JSXを返す純粋関数にする（実際はstateにも依存する）
  - propsは変更してはいけないので、更新関数もpropsとして渡すようにする
  - Reactではコンポーネント外のものは基本的に引数だけを見ればいい

- `createPortal`を使うと、コンポーネントを現在のDOMツリーから切り離して別のDOMツリーにマウントすることで親コンポーネントのスタイルやレイアウトから影響を受けなくすることができる

## わからなかったこと
- デバッガーの使い方
- バブリング

## 次やること
- udemy React完全入門ガイド
  - 14
  - 16
  - 20
  - 21

## 感想
とりあえずReactのCSSはstyled-componentsかCSSフレームワークを使う

useRefはよくわからん。直接DOMを操作するからあんまり使わんほうがいい。

動画学習の方がしんどく感じる。